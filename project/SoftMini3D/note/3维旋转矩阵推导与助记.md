3维旋转矩阵推导与助记
===========

旋转矩阵的应用范围比较广，是姿态变换，坐标变换等的基础。本篇先介绍旋转矩阵的推导过程与助记方法。

旋转矩阵的旋转其实包含两种意思，一是在同一个坐标系下，**向量的旋转**；二是**坐标系的旋转**，使得同一向量在不同的坐标系下有不同的坐标。

* * *

**\=============1 向量旋转============>**

首先讨论二维平面坐标下的旋转，然后引申至三维。

**1.1 平面二维旋转**

如下图，XY坐标系中，向量OP旋转β角度到了OP'的位置：

![](https://pic3.zhimg.com/v2-38f253e4128e2809f85fb42121f5eff2_b.jpg)

![](https://pic3.zhimg.com/80/v2-38f253e4128e2809f85fb42121f5eff2_720w.webp)

根据三角函数关系，可以列出向量OP与OP'的坐标表示形式：

对比上面个两个式子，将第2个式子展开：

![](https://pic3.zhimg.com/v2-cdf8b5fa36af46cdd4986cdbc3ec8d2a_b.png)

![](https://pic3.zhimg.com/80/v2-cdf8b5fa36af46cdd4986cdbc3ec8d2a_720w.webp)

用矩阵形式重新表示为：

![](https://pic4.zhimg.com/v2-8803684cd287390b2b689c128d76563b_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='417' height='131'></svg>)

这就是二维旋转的基本形式，中间的矩阵即二维旋转的**旋转矩阵**，坐标中的某一向量左乘该矩阵后，即得到这个向量旋转β角后的坐标。

**1.2 三维旋转**

三维旋转可借助二维旋转来理解，由于三维空间中可以任意轴旋转，为方便分析与使用，只考虑绕X、Y、Z轴的旋转。

*   **绕Z轴**

参照上面的图，添加一个Z轴，则上面的二维旋转实际上就是绕Z轴的三维旋转

![](https://pic1.zhimg.com/v2-0a18ca4a6a06fa2da2e68010d57adc54_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='598' height='522'></svg>)

照搬上面的推导公式，并添加Z坐标的变换关系(实际是没有变)，然后改写成矩阵形式，红色方框即为绕Z轴的旋转矩阵。

![](https://pic3.zhimg.com/v2-b9c372ce5481d832980bfb6c5cd42362_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='516' height='432'></svg>)

*   **绕Y轴**

绕Y轴旋转同理，这里直接改变坐标轴的符号表示，**注意坐标顺序要符合右手系**，我这里用颜色区分了不同的轴。最终的矩阵形式要进一步改写成XYZ的顺序。红色方框即为绕Y轴的旋转矩阵。

![](https://pic4.zhimg.com/v2-da669f4d1d9f5852bc926a185254b5d3_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='622' height='518'></svg>)

*   **绕X轴**

参照绕Y轴的推导，可以得到绕X轴的结果。红色方框即为绕X轴的旋转矩阵。

  

![](https://pic2.zhimg.com/v2-fbee9db2b50dd93f3fa4576b3062791d_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='603' height='540'></svg>)

![](https://pic2.zhimg.com/v2-572730604890da28c7341dd18aa542fd_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='816' height='376'></svg>)

1.3 助记
------

对于单位矩阵，绕哪个轴旋转，哪一列不用变，然后将二维旋转矩阵替换对应的4个位置，注意，绕Y的旋转矩阵看起来与另外两个不同，它的-sinβ是在左下！

  

![](https://pic3.zhimg.com/v2-ff7877954f6a4020f934df16ca109322_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='720' height='477'></svg>)

  

1.4 注意事项
--------

*   **反向旋转**

如果是反向旋转一个角度，推导过程类似：

![](https://pic2.zhimg.com/v2-a693ca96662df051e87b6698933aa2bd_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='467' height='384'></svg>)

最终得到的旋转矩阵其实是正向旋转矩阵的**逆矩阵**，由于这个矩阵是**正交阵**，所以逆矩阵就是**转置矩阵**。

![](https://pic3.zhimg.com/v2-fb2cabad1aeef526a6471160f95ea42a_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1133' height='387'></svg>)

*   **书写形式**

上面的向量的坐标都是按照**列**的形式书写，如果是换成**行**的形式表示，则旋转的矩阵形式被转置了一下，同时矩阵在行向量的右边进行相乘。

![](https://pic4.zhimg.com/v2-790c454ee0a10b6ec7cba7506da3378b_b.png)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='972' height='153'></svg>)

* * *

**\=============2 坐标系旋转============>**

**2.1平面二维旋转**

如下图，**xy坐标系**中，有一向量OP，其坐标可表示为(x，y)，该向量与X轴夹角为α。然后，坐标系绕原点逆时旋转了β角度，形成**新的坐标系x’y’**，此时OP在新的坐标系中的坐标表示为(x，y)，根据几何关系，可以得到如下推导，最终得到绿色虚框的旋转矩阵。

对比上面的旋转矩阵，可以发现：这里**坐标系旋转**的旋转矩阵与上面**向量旋转**的旋转矩阵正好是**转置的关系**(实际上是**逆矩阵**，因为正交阵的逆矩阵与转置矩阵相同)，因为这两种旋转本质上是相对运动，互为逆过程。

![](https://pic2.zhimg.com/v2-20ec098a516e40329b5ae79e69a0e6a1_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1414' height='334'></svg>)

**2.2 三维旋转**

*   **绕X轴**

![](https://pic3.zhimg.com/v2-0e0a8be32cb4cd9ccd8447127fc530e2_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1290' height='442'></svg>)

*   **绕Y轴**

![](https://pic1.zhimg.com/v2-7110db8e23efd90395581335c40598e0_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1283' height='437'></svg>)

*   **绕Z轴**

![](https://pic2.zhimg.com/v2-2a0bcfe94b75414c2c8729b2dc8d7b41_b.jpg)

![](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1292' height='432'></svg>)

![](https://picx.zhimg.com/v2-bacdf5c0e8327b50eeecbf747d945e2a_l.jpg?source=f2fdee93)

码农爱学习

5 次咨询

5.0

5135 次赞同

去咨询